<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style2.css">
    <title>Steen, Papier, Schaar</title>
</head>
<body>
    <div id="closeButton" onclick="goToIndexPage()">X</div>
    <div id="players">
        <h2 id="player1Header"></h2>
        <h2 id="player2Header"></h2>
    </div>
    <h1>Steen, Papier, Schaar</h1>
    <div id="game">
        <div>
            <button class="choice" data-choice="steen">Steen</button>
            <button class="choice" data-choice="papier">Papier</button>
            <button class="choice" data-choice="schaar">Schaar</button>
        </div>
        <div id="result"></div>
        <div id="scoreboard">
            <p id="player1Score"></p>
            <p id="player2Score"></p>
        </div>
        <button id="resetGame">Reset spel</button>
    </div>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const player1Name = localStorage.getItem('player1Name') || 'Speler 1';
            const player2Name = localStorage.getItem('player2Name') || 'Computer';
            const player1Header = document.getElementById('player1Header');
            const player2Header = document.getElementById('player2Header');
            const player1ScoreDiv = document.getElementById('player1Score');
            const player2ScoreDiv = document.getElementById('player2Score');
            let player1Score = 0;
            let player2Score = 0;

            player1Header.textContent = `${player1Name} (${player1Score} gewonnen)`;
            player2Header.textContent = `${player2Name} (${player2Score} gewonnen)`;

            document.querySelectorAll('.choice').forEach(button => {
                button.addEventListener('click', handleButtonClick);
            });

            document.getElementById('resetGame').addEventListener('click', resetGame);

            function handleButtonClick(event) {
                const player1Choice = event.target.getAttribute('data-choice');
                const player2Choice = getComputerChoice();
                playGame(player1Choice, player2Choice);
            }

            function playGame(player1Choice, player2Choice) {
                const result = determineWinner(player1Choice, player2Choice);
                displayResult(player1Choice, player2Choice, result);
                updateScore(result);
            }

            function getComputerChoice() {
                const options = ['steen', 'papier', 'schaar'];
                return options[Math.floor(Math.random() * options.length)];
            }

            function determineWinner(player1, player2) {
                if (player1 === player2) {
                    return "Het is gelijkspel!";
                }
                switch (player1) {
                    case 'steen':
                        return (player2 === 'schaar') ? `${player1Name} wint!` : `${player2Name} wint!`;
                    case 'papier':
                        return (player2 === 'steen') ? `${player1Name} wint!` : `${player2Name} wint!`;
                    case 'schaar':
                        return (player2 === 'papier') ? `${player1Name} wint!` : `${player2Name} wint!`;
                    default:
                        return "Ongeldige keuze!";
                }
            }

            function displayResult(player1Choice, player2Choice, result) {
                const resultDiv = document.getElementById('result');
                resultDiv.textContent = `${player1Name} koos: ${player1Choice}, ${player2Name} koos: ${player2Choice}. ${result}`;
            }

            function updateScore(result) {
                if (result.includes(player1Name)) {
                    player1Score++;
                } else if (result.includes(player2Name)) {
                    player2Score++;
                }
                updateScoreboard();
            }

            function updateScoreboard() {
                player1Header.textContent = `${player1Name} (${player1Score} gewonnen)`;
                player2Header.textContent = `${player2Name} (${player2Score} gewonnen)`;
            }

            function resetGame() {
                player1Score = 0;
                player2Score = 0;
                updateScoreboard();
                const resultDiv = document.getElementById('result');
                resultDiv.textContent = '';
            }
        });

        function goToIndexPage() {
            window.location.href = 'index2.html';
        }
    </script>
</body>
</html>
